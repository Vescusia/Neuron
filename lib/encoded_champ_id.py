"""
Encodes a champion ID into a single-byte integer

This encoding promises to be consistent across all patches; i.e., new champions will be assigned a new ID,
and old champions will retain theirs.
"""

import numpy as np

from lib import CHAMPIONS


# map champ.id to u8
# this is done by hand to keep the promise of consistency at all times
_id_to_int_map: dict[str, int] = {
    'Aatrox': 0,
    'Ahri': 1,
    'Akali': 2,
    'Akshan': 3,
    'Alistar': 4,
    'Ambessa': 5,
    'Amumu': 6,
    'Anivia': 7,
    'Annie': 8,
    'Aphelios': 9,
    'Ashe': 10,
    'AurelionSol': 11,
    'Aurora': 12,
    'Azir': 13,
    'Bard': 14,
    'Belveth': 15,
    'Blitzcrank': 16,
    'Brand': 17,
    'Braum': 18,
    'Briar': 19,
    'Caitlyn': 20,
    'Camille': 21,
    'Cassiopeia': 22,
    'Chogath': 23,
    'Corki': 24,
    'Darius': 25,
    'Diana': 26,
    'Draven': 27,
    'DrMundo': 28,
    'Ekko': 29,
    'Elise': 30,
    'Evelynn': 31,
    'Ezreal': 32,
    'Fiddlesticks': 33,
    'Fiora': 34,
    'Fizz': 35,
    'Galio': 36,
    'Gangplank': 37,
    'Garen': 38,
    'Gnar': 39,
    'Gragas': 40,
    'Graves': 41,
    'Gwen': 42,
    'Hecarim': 43,
    'Heimerdinger': 44,
    'Hwei': 45,
    'Illaoi': 46,
    'Irelia': 47,
    'Ivern': 48,
    'Janna': 49,
    'JarvanIV': 50,
    'Jax': 51,
    'Jayce': 52,
    'Jhin': 53,
    'Jinx': 54,
    'Kaisa': 55,
    'Kalista': 56,
    'Karma': 57,
    'Karthus': 58,
    'Kassadin': 59,
    'Katarina': 60,
    'Kayle': 61,
    'Kayn': 62,
    'Kennen': 63,
    'Khazix': 64,
    'Kindred': 65,
    'Kled': 66,
    'KogMaw': 67,
    'KSante': 68,
    'Leblanc': 69,
    'LeeSin': 70,
    'Leona': 71,
    'Lillia': 72,
    'Lissandra': 73,
    'Lucian': 74,
    'Lulu': 75,
    'Lux': 76,
    'Malphite': 77,
    'Malzahar': 78,
    'Maokai': 79,
    'MasterYi': 80,
    'Mel': 81,
    'Milio': 82,
    'MissFortune': 83,
    'MonkeyKing': 84,
    'Mordekaiser': 85,
    'Morgana': 86,
    'Naafiri': 87,
    'Nami': 88,
    'Nasus': 89,
    'Nautilus': 90,
    'Neeko': 91,
    'Nidalee': 92,
    'Nilah': 93,
    'Nocturne': 94,
    'Nunu': 95,
    'Olaf': 96,
    'Orianna': 97,
    'Ornn': 98,
    'Pantheon': 99,
    'Poppy': 100,
    'Pyke': 101,
    'Qiyana': 102,
    'Quinn': 103,
    'Rakan': 104,
    'Rammus': 105,
    'RekSai': 106,
    'Rell': 107,
    'Renata': 108,
    'Renekton': 109,
    'Rengar': 110,
    'Riven': 111,
    'Rumble': 112,
    'Ryze': 113,
    'Samira': 114,
    'Sejuani': 115,
    'Senna': 116,
    'Seraphine': 117,
    'Sett': 118,
    'Shaco': 119,
    'Shen': 120,
    'Shyvana': 121,
    'Singed': 122,
    'Sion': 123,
    'Sivir': 124,
    'Skarner': 125,
    'Smolder': 126,
    'Sona': 127,
    'Soraka': 128,
    'Swain': 129,
    'Sylas': 130,
    'Syndra': 131,
    'TahmKench': 132,
    'Taliyah': 133,
    'Talon': 134,
    'Taric': 135,
    'Teemo': 136,
    'Thresh': 137,
    'Tristana': 138,
    'Trundle': 139,
    'Tryndamere': 140,
    'TwistedFate': 141,
    'Twitch': 142,
    'Udyr': 143,
    'Urgot': 144,
    'Varus': 145,
    'Vayne': 146,
    'Veigar': 147,
    'Velkoz': 148,
    'Vex': 149,
    'Vi': 150,
    'Viego': 151,
    'Viktor': 152,
    'Vladimir': 153,
    'Volibear': 154,
    'Warwick': 155,
    'Xayah': 156,
    'Xerath': 157,
    'XinZhao': 158,
    'Yasuo': 159,
    'Yone': 160,
    'Yorick': 161,
    'Yunara': 162,
    'Yuumi': 163,
    'Zac': 164,
    'Zed': 165,
    'Zeri': 166,
    'Ziggs': 167,
    'Zilean': 168,
    'Zoe': 169,
    'Zyra': 170,
}

# reverse the map
_int_to_id_map: dict[int, str] = {v: k for k, v in _id_to_int_map.items()}


def to_int(champ_id: str) -> np.uint8:
    return np.uint8(_id_to_int_map[champ_id])


def from_int(id_int: int) -> str:
    """
    :return: id of the champion
    """
    return CHAMPIONS[_int_to_id_map[id_int]]
